---
import { SiGithub } from "react-icons/si";
import Badge from "./Badge.astro"; 
import { Image } from "astro:assets";
import ToolBadge from "./ToolBadge";
import { STACKS } from "@/common/constant/stack";

interface Props {
  name: string;
  role: "author" | "contributor" | "maintainer";
  url: string;
  image: string;
  description: string | null;
  stars: number;
  languages: string[];
}

const colors = {
  maintainer: "gradient-pink",
  author: "gradient-indigo",
  contributor: "green",
} as const;

const { name, role, url, image, description, stars, languages } = Astro.props;
---

<li
  class="relative dark:bg-zinc-800 bg-white dark:text-zinc-400 text-zinc-500 gap-1 p-5 border dark:border-zinc-700/60 rounded-lg flex flex-col"
>
<Badge text={role} color={colors[role]} />
<div class="flex gap-3">
  <Image
        src={`${image}`}
        alt={name}
        loading="eager"
        class="object-cover group-hover:scale-[1.03] transition-all duration-700 rounded-lg"
        width={200}
        height={200}
      />
      <div>

        <div class="flex justify-between mb-1.5">
            <div class="flex flex-col sm:flex-row sm:items-baseline gap-2">
              <h2
                class="text-lg font-medium dark:text-white text-zinc-700 [word-break:break-word]"
              >
                {name}
              </h2>
            </div>
          <!-- <a
            href={url}
            target="_blank"
            rel="noopener noreferrer"
            aria-label={`Open ${name} repository in a new tab`}
          >
            <SiGithub
              name="mdi:github"
              class="w-6 fill-current dark:hover:text-zinc-300 hover:text-zinc-600 hover:scale-110 transition-all"
            />
          </a> -->
        </div>
        <!-- <div class="flex gap-2">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="currentColor"
            class="w-5 text-zinc-400"
          >
            <path
              fill-rule="evenodd"
              d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z"
              clip-rule="evenodd"></path>
          </svg>
      
          <span>{stars}</span>
        </div> -->
        {description && <p class="leading-relaxed text-sm line-clamp-2">{description}</p>}
        <ul class="flex flex-wrap gap-2 mt-2">
          {
            languages.map((item) => (
              <ToolBadge icon={STACKS[item]} name={item} />
            ))
          }
        </ul>
      </div>
</div>
</li>